{% extends 'no-nav-absolute.html' %}
{% block title %} Graphics cards{% endblock %}
{% block content %}
<link rel="stylesheet" type="text/css" href="https://www.oneorzero.org/static/lightpick.css">
<link rel="stylesheet" type="text/css" href="https://www.oneorzero.org/static/animate.css">
<link rel="stylesheet" type="text/css" href="https://www.oneorzero.org/static/beanstalk.css">
<link rel="stylesheet" type="text/css" href="https://www.oneorzero.org/static/pretty-checkbox.css">
<style>
    * {
        color: #073642;
    }

    #chart {
        background: rgba(0,0,0,0);
        /*background-image: url(http://localhost/images/2/21/Pixel.png);*/
    }

    #comparison-view {
        width: 100%;
        height: 100%;
        position: relative;
    }

    #controls {
        background-color: #fff;
        width: 350px;
        position: fixed;
        left: 24px;
        top: 24px;
        z-index: 99;
        overflow: hidden;
        text-align: center;
        height: 188px;
        padding-bottom: 14px;
        transition: all .2s ease-in-out !important;
    }

    .expander {
        border: 1px solid #e5e7e9;
        background: #fff;
        padding: 12px 18px;
        padding-bottom: 8px;
        padding-left: 10px;
        display: block;
        width: auto;
        font-size: 13px;
        border-radius: 22px;
        cursor: pointer;
        position: absolute;
        bottom: 0;
        margin: 14px auto;
        left: 50%;
        transform: translateX(-50%);
        white-space: nowrap;
    }

    .expander:hover {
        background: #f8f9f9;
    }

    .expander:active {
        box-shadow: 0 0 4px rgba(0,0,0,0.1);
    }

    .closed::before {
        content: url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(38, 139, 210)" width="18px" height="18px"><path d="M24 24H0V0h24v24z" fill="none" opacity=".87"/><path d="M15.88 9.29L12 13.17 8.12 9.29c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.39-1.42 0z"/></svg>');
        display: inline-block;
        margin: 0 4px;.
        margin-top: -1px;
        padding: 0;
        line-height: 0px;
        text-indent: 0;
        vertical-align: top;
        transition: all .2s ease-in-out;
    }

    .expanded {
        height: calc(100vh - 40px - 14px) !important;
    }

    .expanded .expander::before {
        transform: rotate(180deg);
    }

    #more-settings {
        display: none;
    }

    .expanded #more-settings {
        display: block;
    }
    
    #datepicker {
        width: 125px;
        display: inline-block;
        vertical-align: top;
        margin-right: 2px;
    }

    #datepicker input {
        width: 100%;
        line-height: 26px;
        margin-bottom: 8px;
        border-radius: 5px;
        background: #fff;
        border: 1px solid #e5e7e9;
    }

    #controls .header {
        width: 100%;
        display: block;
        height: 50px;
        line-height: 50px;;
        position: relative;
        font-weight: bold;
        color: #1F4A54;
        text-align: center;
    }

    #controls li {
        width: calc(100% - 40px);
        margin-left: 0px;
        padding: 12px 0;
        margin: 0 auto;
        font-size: 11pt;
        color: #1F4A54;
        text-align: left;
    }

    #controls li svg {
        width: 20px;
        height: 20px;
        fill: #268BD2;
        position: relative;
        display: inline-block;
        vertical-align: top;
        margin-top: -2px;
        margin-right: 4px;
        margin-left: 1px;
    }

    #controls li select, #controls li .edd-root {
        float: right;
        font-size: 11pt;
        margin-top: -8px;
    }

    .header svg {
        width: 28px;
        height: 28px;
        fill: #1F4A54;
        line-height: 40px;
        vertical-align: middle;
        position: absolute;
        margin-top: 10px;
        left: 14px;
        cursor: pointer;
    }

    #chart {
        width: 100%;
        height: 100vh;
        position: relative;
        z-index: 1;
        overflow: hidden;
        /*box-shadow: inset 7px 0 9px -7px rgba(0,0,0,0.24);*/
    }

    #nav {
        width: 100%;
        box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    }
    
    circle {
        position: absolute;
        background: #fff;
    }


    .axis path,
    .axis line {
        fill: none;
        stroke: none;
        shape-rendering: crispEdges;
    }

    #chart path {
        stroke: none;
    }

    #chart circle {
        filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
        cursor: pointer;
        stroke-width: 2px;
    }

    #chart .hidden {
        visibility: hidden !important;
    }

    .line {
        fill: none;
        stroke: #e5e7e9;
        stroke-width: 4;
        shape-rendering: crispEdges;
    }

    .tooltip {
        width: auto;
        height: auto;
        min-height: 75px;
        z-index: 99;
        background: #fff;
        font-size: 11pt;
        line-height: 150%;
        text-align: left;
        position: absolute;
        padding: 0 14px;
        cursor: pointer;
    }

    .tooltip span {
        display: inline-block;
        margin-top: 10px;
        font-weight: 500;
        font-weight: 11pt;
        color: #268BD2;
    }

    #chart .tooltip:hover {
        visibility: visible !important;
    }

    .top::before {
        content: '';
        position: absolute;
        width: 40px;
        height: calc(40px + 8px);
        left: 0;
        right: 0;
        margin: 0 auto;
        top: calc(-40px - 8px);
        border-top-left-radius: 16px;
        border-top-right-radius: 16px;
        cursor: pointer;
    }

    .bottom::before {
        content: '';
        position: absolute;
        width: 40px;
        height: calc(40px + 8px);
        left: 0;
        right: 0;
        margin: 0 auto;
        bottom: calc(-40px - 8px);
        border-bottom-left-radius: 16px;
        border-bottom-right-radius: 16px;
        cursor: pointer;
    }

    .tooltip ul {
        margin-bottom: 14px;
    }

    .tooltip ul li {
        width: calc(100% - 28px);
        line-height: 150%;
        height: 48px;
        padding-bottom: 0;;
        border: 1px solid #e5e7e9;
        border-bottom: none;
        min-width: 250px;
        width: 100%;
    }

    .tooltip ul li:first-of-type {
        border-top-left-radius: 6px;
        border-top-right-radius: 6px;
    }

    .tooltip ul li:nth-child(6), .tooltip ul li:last-child {
        border-bottom: 1px solid #e5e7e9;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
    }

    .tooltip ul > div {
        font-weight: 500;
        vertical-align: top;
    }

    .tooltip > div {
        display: inline-block;
    }

    .tooltip li:nth-child(even) {
        background: #f8f9f9;
    }

    .tooltip li {
        width: 100%;
    }

    .tooltip li a {
        width: auto;
        display: inline-block;
        position: relative;
        height: 46px;
        font-size: 10pt;
        padding-right: 14px;
        line-height: 28px;
        box-sizing: border-box;
        width: 100%;
        padding-left: calc(34px + 16px);
        cursor: pointer;
        white-space: nowrap;
    }

    .tooltip .amd-branded::before {
        content: '';
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/AMD_Logo.svg/1200px-AMD_Logo.svg.png');
        height: 10px;
        width: 100%;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: 0 center;
        display: inline-block;
        position: absolute;
        bottom: 8px;
        left: 52px;
    }

    .tooltip .graphics-cards .image-thumb {
        content: '';
        height: 34px;
        width: 34px;
        background-size: 120%;
        background-repeat: no-repeat;
        background-position: center;
        left: 5px;
        top: 2px;
        position: absolute;
        margin: 5px;
    }

    .tooltip .graphics-cards p {
        position: relative;
        margin-top: 2px;
        display: inline-block;
        line-height: 0;
        color: #5dade2;
    }

    .tooltip ul > div::before {
        margin-right: 6px;
        margin-top: 2px;
        display: inline-block;
        vertical-align: top;
    }

    .tooltip ul > div:first-of-type::before {  
        content: url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="rgb(38, 139, 210)" width="18px" height="18px"><g><rect fill="none" height="24" width="24"/><rect fill="none" height="24" width="24"/></g><g><g/><g><path d="M21.65,7.65l-2.79-2.79C18.54,4.54,18,4.76,18,5.21V7H4C3.45,7,3,7.45,3,8v0c0,0.55,0.45,1,1,1h14v1.79 c0,0.45,0.54,0.67,0.85,0.35l2.79-2.79C21.84,8.16,21.84,7.84,21.65,7.65z"/><path d="M2.35,16.35l2.79,2.79C5.46,19.46,6,19.24,6,18.79V17h14c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H6v-1.79 c0-0.45-0.54-0.67-0.85-0.35l-2.79,2.79C2.16,15.84,2.16,16.16,2.35,16.35z"/></g></g></svg>');
    }

    .tooltip ul > div:last-of-type::before {  
        margin-bottom: 8px;
        content: url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(38, 139, 210)" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 17.01V11c0-.55-.45-1-1-1s-1 .45-1 1v6.01h-1.79c-.45 0-.67.54-.35.85l2.79 2.78c.2.19.51.19.71 0l2.79-2.78c.32-.31.09-.85-.35-.85H16zM8.65 3.35L5.86 6.14c-.32.31-.1.85.35.85H8V13c0 .55.45 1 1 1s1-.45 1-1V6.99h1.79c.45 0 .67-.54.35-.85L9.35 3.35c-.19-.19-.51-.19-.7 0z"/></svg>');
    }

    .tick line:not(.grid .tick line) {
        stroke: none;
    }

    .tick text:not(.grid .tick text) {
        fill: #268BD2;
        font-size: 11pt;
        font-weight: 500;
    }

    .grid line {
        stroke: #e5e7e9;
        stroke-opacity: 1;
        shape-rendering: crispEdges;
        stroke-width: 2px;
    }

    .grid path {
        stroke-width: 0;
    }

    .checkbox-list {
        width: 125px;
        position: relative;
        margin-right: -1px;
    }

    .checkbox-list > div {
        width: 100%;
        margin-bottom: 8px;
        position: relative;
        height: 20px;
    }

    .checkbox-list > div .checkbox {
        float: right;
        transform: scale(.9);
    }

    .checkbox-list > div img {
        height: 12px;
        position: absolute;
        right: 64px;
        top: 1px;
    }

    .modal {
        width: 100vw;
        height: 100vh;
        position: fixed;
        top: 0;
        background: rgba(0, 0, 0, .15);
        z-index: 100;
        display: none;
        opacity: 0;
        z-index: 9999;
    }

    .modal-show {
        display: block;
        opacity: 1;
    }

    .modal-content {
        background: #fff;
        width: calc((100vw / 2) + (720px / 2));
        min-width: 720px;
        height: 100vh;
        right: 0;
        top: 0;
        bottom: 0;
        position: absolute;
        margin: 0 auto;
        display: grid;
        grid-template-rows: 60px 1fr;
        grid-template-columns: 1fr;
        overflow-y: scroll;
    }

    .modal-content .wrapper {
        position: relative;
        margin: 0 impo !important;
    }

    .modal-content .topbar {
        box-shadow: 0 0 8px rgba(0,0,0,0.12);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
    }

    .modal-content .topbar img {
        height: 30px;
        margin: 15px 12px;
    }

    .modal-content .topbar ul {
        font-size: 11pt;
        float: right;
        margin: 0;
        margin-top: 10px;
    }

    .modal-content .topbar li:first-child {
        margin-right: 12px;
    }

    .modal-content .topbar li:first-child::before {
        content: url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="rgb(38, 139, 210)" width="18px" height="18px"><g><rect fill="none" height="24" width="24"/><rect fill="none" height="24" width="24"/></g><g><g/><g><path d="M21.65,7.65l-2.79-2.79C18.54,4.54,18,4.76,18,5.21V7H4C3.45,7,3,7.45,3,8v0c0,0.55,0.45,1,1,1h14v1.79 c0,0.45,0.54,0.67,0.85,0.35l2.79-2.79C21.84,8.16,21.84,7.84,21.65,7.65z"/><path d="M2.35,16.35l2.79,2.79C5.46,19.46,6,19.24,6,18.79V17h14c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H6v-1.79 c0-0.45-0.54-0.67-0.85-0.35l-2.79,2.79C2.16,15.84,2.16,16.16,2.35,16.35z"/></g></g></svg>');
    }

    .modal-content .topbar li:last-child::before {
        content: url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(38, 139, 210)" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 17.01V11c0-.55-.45-1-1-1s-1 .45-1 1v6.01h-1.79c-.45 0-.67.54-.35.85l2.79 2.78c.2.19.51.19.71 0l2.79-2.78c.32-.31.09-.85-.35-.85H16zM8.65 3.35L5.86 6.14c-.32.31-.1.85.35.85H8V13c0 .55.45 1 1 1s1-.45 1-1V6.99h1.79c.45 0 .67-.54.35-.85L9.35 3.35c-.19-.19-.51-.19-.7 0z"/></svg>');
    }

    .modal-content .topbar li {
        display: inline-block;
        font-weight: 500;
        padding: 0 14px;
        line-height: 38px;
        height: 38px;
        border: 1px solid #e5e7e9;
        border-radius: 5px;
    }

    .modal-content .topbar li::before {
        display: inline-block;
        margin-right: 6px;
        margin-top: 4px;
        vertical-align: top;
    }

    .modal-content .content {
        margin-top: 60px;
        width: 100%;
    }

    .modal-content .content tr > *:first-child {
        padding-left: 16px;
    }

    .modal-content .content div table {
        width: 100%;
    }

    .content div {
        position: relative;
    }

    .modal tr td {
        vertical-align: middle;
    }

    .modal tr {
        height: 60px;
    }

    .modal-content table .image-thumb {
        width: 40px;
        height: 40px;
        background-size: 120%;
        background-position: center;
        background-repeat: no-repeat;
    }

    .modal-content table .btn {
        position: relative;
        line-height: 100%;
        width: auto;
        float: right;
    }

    .banner {
        height: 100vh;
        max-height: 100vh;
    }
</style>

<div class="banner" style="background-image: url('https://www.oneorzero.org/static/img/banners/banner-light.webp')">
    <div class="tint"></div>
</div>
<div id="comparison-view">
    <div id="controls" class="shadowed-hard round-med">
        <div class="header">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4.2 17.78l5.3-5.3 3.25 3.25c.41.41 1.07.39 1.45-.04l7.17-8.07c.35-.39.33-.99-.04-1.37-.4-.4-1.07-.39-1.45.04l-6.39 7.18-3.29-3.29c-.39-.39-1.02-.39-1.41 0l-6.09 6.1c-.39.39-.39 1.02 0 1.41l.09.09c.39.39 1.03.39 1.41 0z"/></svg>
            Compare {{ header }}
        </div>
        <li>
            <label for="x">
                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="rgb(7, 54, 66)" width="18px" height="18px"><g><rect fill="none" height="24" width="24"/><rect fill="none" height="24" width="24"/></g><g><g/><g><path d="M21.65,7.65l-2.79-2.79C18.54,4.54,18,4.76,18,5.21V7H4C3.45,7,3,7.45,3,8v0c0,0.55,0.45,1,1,1h14v1.79 c0,0.45,0.54,0.67,0.85,0.35l2.79-2.79C21.84,8.16,21.84,7.84,21.65,7.65z"/><path d="M2.35,16.35l2.79,2.79C5.46,19.46,6,19.24,6,18.79V17h14c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1H6v-1.79 c0-0.45-0.54-0.67-0.85-0.35l-2.79,2.79C2.16,15.84,2.16,16.16,2.35,16.35z"/></g></g></svg>
                X-Axis
            </label>
            <select name="x" onchange="loadChart(data)"></select>
        </li>
        <li>
            <label for="y">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(7, 54, 66)" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 17.01V11c0-.55-.45-1-1-1s-1 .45-1 1v6.01h-1.79c-.45 0-.67.54-.35.85l2.79 2.78c.2.19.51.19.71 0l2.79-2.78c.32-.31.09-.85-.35-.85H16zM8.65 3.35L5.86 6.14c-.32.31-.1.85.35.85H8V13c0 .55.45 1 1 1s1-.45 1-1V6.99h1.79c.45 0 .67-.54.35-.85L9.35 3.35c-.19-.19-.51-.19-.7 0z"/></svg>
                Y-Axis
            </label>
            <select name="y" onchange="loadChart(data)"></select>
        </li>
        <div id="more-settings">
            <li style="text-align: right;">
                <label for="datepicker" style="float: left;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 4h-1V3c0-.55-.45-1-1-1s-1 .45-1 1v1H8V3c0-.55-.45-1-1-1s-1 .45-1 1v1H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1V9h14v10zM7 11h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"/></svg>
                    Release date range
                </label>
                <div id="datepicker">
                    <input id="startdate"/>
                    <input id="enddate"/>
                </div>
            </li>
            <li style="height: 68px;">
                <label>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 7V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2h-8zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm9 12h-7v-2h2v-2h-2v-2h2v-2h-2V9h7c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1zm-1-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/></svg>
                    Brands
                </label>
                <div style="float: right;" class="checkbox-list">
                    <div>
                        <label for="amd-brand-filter">
                            <img alt="AMD" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/AMD_Logo.svg/1200px-AMD_Logo.svg.png"/>
                        </label>
                        <div class="pretty p-default p-smooth p-round checkbox">
                            <input name="amd-brand-filter" type="checkbox" onchange="updateFilters(keyValue={'company': 'AMD'}); loadChart(data);"/>
                            <div class="state p-primary">
                                <label></label>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="nvidia-brand-filter">
                            <img alt="NVIDIA" src="http://localhost/images/thumb/a/a0/NVIDIA_Logo.png/250px-NVIDIA_Logo.png"/>
                        </label>

                        <div class="pretty p-default p-smooth p-round checkbox">
                            <input name="nvidia-brand-filter" type="checkbox" onchange="updateFilters(keyValue={'company': 'NVIDIA'}); loadChart(data);"/>
                            <div class="state p-primary">
                                <label></label>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="intel-brand-filter">
                            <img alt="Intel" src="http://localhost/images/thumb/9/91/Intel_Logo.png/50px-Intel_Logo.png"/>
                        </label>
                        <div class="pretty p-default p-smooth p-round checkbox">
                            <input name="intel-brand-filter" type="checkbox" onchange="updateFilters(keyValue={'company': 'Intel'}); loadChart(data);"/>
                            <div class="state p-primary">
                                <label></label>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li>
                <label for="socket">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M14 9h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1zm-1 4h-2v-2h2v2zm8-3c0-.55-.45-1-1-1h-1V7c0-1.1-.9-2-2-2h-2V4c0-.55-.45-1-1-1s-1 .45-1 1v1h-2V4c0-.55-.45-1-1-1s-1 .45-1 1v1H7c-1.1 0-2 .9-2 2v2H4c-.55 0-1 .45-1 1s.45 1 1 1h1v2H4c-.55 0-1 .45-1 1s.45 1 1 1h1v2c0 1.1.9 2 2 2h2v1c0 .55.45 1 1 1s1-.45 1-1v-1h2v1c0 .55.45 1 1 1s1-.45 1-1v-1h2c1.1 0 2-.9 2-2v-2h1c.55 0 1-.45 1-1s-.45-1-1-1h-1v-2h1c.55 0 1-.45 1-1zm-5 7H8c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1h8c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1z"/></svg>
                    Socket
                </label>
                <select name="socket" onchange="loadChart(data)">
                    <option>AM4</option>
                </select>
            </li>
            <li>
                <label>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v1c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-1h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm-1 14H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h16c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1zm-5.52-5.13l-3.98 2.28c-.67.38-1.5-.11-1.5-.87V8.72c0-.77.83-1.25 1.5-.87l3.98 2.28c.67.39.67 1.35 0 1.74z"/></svg>
                    Integrated graphics
                </label>
                <div style="float: right;" class="checkbox-list">
                    <div>
                        <label for="integrated-graphics">
                        </label>
                        <div class="pretty p-default p-smooth p-round checkbox">
                            <input name="integrated-graphics" type="checkbox" onchange="filter(keyValue = {'iGPU': true})"/>
                            <div class="state p-primary">
                                <label></label>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            </li>
            <li>
                <label>
                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><rect fill="none" height="24" width="24"/><path d="M17,11h3c1.11,0,2-0.9,2-2V5c0-1.11-0.9-2-2-2h-3c-1.11,0-2,0.9-2,2v1H9.01V5c0-1.11-0.9-2-2-2H4C2.9,3,2,3.9,2,5v4 c0,1.11,0.9,2,2,2h3c1.11,0,2-0.9,2-2V8H11v7.01c0,1.65,1.34,2.99,2.99,2.99H15v1c0,1.11,0.9,2,2,2h3c1.11,0,2-0.9,2-2v-4 c0-1.11-0.9-2-2-2h-3c-1.11,0-2,0.9-2,2v1h-1.01C13.45,16,13,15.55,13,15.01V8h2v1C15,10.1,15.9,11,17,11z"/></svg>
                    Multi threading
                </label>
                <div style="float: right;" class="checkbox-list">
                    <div>
                        <label for="multi-threading">
                        </label>
                        <div class="pretty p-default p-smooth p-round checkbox">
                            <input name="multi-threading" type="checkbox" onchange="filter(keyValue = {'multiThreading': true})"/>
                            <div class="state p-primary">
                                <label></label>
                            </div>
                        </div>
                    </div>
                </div>
            </li>

        </div>
        <a class="expander closed" onclick="toggleSettingsDrawer(this)">
            More options
        </a>
    </div>
    <div id="chart">
    </div>
</div>
<div class="modal" onclick="toggleModal(0)">
    <div class="modal-content shadowed-hard round-med">
        <div>

        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script src="https://www.oneorzero.org/static/lightpick.js"></script>

<script>
    !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.easydropdown=t():e.easydropdown=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n(3);t.ArrayStrategy=i.default,t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(41);function i(e,t,n,o){var i=e(o,n),r=i.maxVisibleItemsOverride>-1?i.maxVisibleItemsOverride:n.behavior.maxVisibleItems,a=o.item.length>r,u=o.sumItemsHeight(r);t.open(u,i.type,a)}t.dispatchOpen=i;var r=i.bind(null,o.default);t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.reduce((function(e,t){if("string"==typeof t)e.push(t);else{var n=t[0],o=t[1];n&&e.push(o)}return e}),[]).join(" ")}},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PUSH="PUSH",e.REPLACE="REPLACE"}(o||(o={})),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){void 0===n&&(n=!1);var o=e.parentNode;if(n&&e.matches(t))return e;for(;o&&o!==document.body;){if(o.matches&&o.matches(t))return o;if(!o.parentNode)return null;o=o.parentNode}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPTION='[data-ref~="option"]'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=t.actions,o=t.timers;window.clearTimeout(o.keyingTimeoutId),n.keying(),o.keyingTimeoutId=window.setTimeout((function(){return n.resetKeying()}),100),e.disabled=!0,setTimeout((function(){e.disabled=!1,e.focus()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),i=n(3),r=n(27),a=n(28),u=n(29),s=n(9);function l(e,t,n){void 0===n&&(n=null);var a,d="undefined"!=typeof window,c=[];if(a=n instanceof o.default?n:new o.default,"boolean"==typeof n&&!0===n)a.deep=!0;else if(n&&a!==n&&"object"==typeof n&&(l(a,n),[i.default.PUSH,i.default.REPLACE].indexOf(a.arrayStrategy)<0))throw RangeError(s.INVALID_ARRAY_STRATEGY(a.arrayStrategy));if(!e||"object"!=typeof e)throw new TypeError(s.TYPE_ERROR_TARGET(e));if(!t||"object"!=typeof t)throw new TypeError(s.TYPE_ERROR_SOURCE(t));if(Array.isArray(t)){if(a.arrayStrategy===i.default.PUSH)return e.push.apply(e,t),e;for(var f=0;f<t.length;f++)c.push(f.toString())}else c=Object.getOwnPropertyNames(t);for(var p=0,h=c;p<h.length;p++){var v=h[p],b=Object.getOwnPropertyDescriptor(t,v);if(("function"!=typeof b.get||b.set||a.includeReadOnly)&&(b.enumerable||a.includeNonEmurable))if(!a.deep||"object"!=typeof t[v]||d&&t[v]instanceof window.Node||d&&t[v]===window.document.body||d&&t[v]===window.document.documentElement||null===t[v]||Array.isArray(t[v])&&a.useReferenceIfArray||!e[v]&&a.useReferenceIfTargetUnset)try{e[v]=t[v]}catch(t){u.default(t,e,v,a.errorMessage)}else{if(!Object.prototype.hasOwnProperty.call(e,v)||null===e[v])try{e[v]=Array.isArray(t[v])?[]:a.preserveTypeIfTargetUnset?r.default(t[v]):{}}catch(t){u.default(t,e,v,a.errorMessage)}l(e[v],t[v],a)}}return e}Object.keys(a.default.prototype).forEach((function(e){return l[e]=function(e){return function(){for(var t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return(t=new a.default)[e].apply(t,n)}}(e)})),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MERGE_ERROR=function(e,t){return void 0===t&&(t=""),'Unknown property "'+e+'"'+(t?'. Did you mean "'+t+'"?':"")},t.TYPE_ERROR_TARGET=function(e){return'[Helpful Merge] Target "'+e+'" must be a valid object'},t.TYPE_ERROR_SOURCE=function(e){return'[Helpful Merge] Source "'+e+'" must be a valid object'},t.INVALID_ARRAY_STRATEGY=function(e){return'[Helpful Merge] Invalid array strategy "'+e+'"'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),i=n(31),r=n(32),a=function(){this.callbacks=new i.default,this.classNames=new r.default,this.behavior=new o.default,Object.seal(this)};t.default=a},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NONE="NONE",e.TOP="TOP",e.BOTTOM="BOTTOM"}(o||(o={})),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/(ipad|iphone|ipod)/gi.test(e),n=/android/gi.test(e),o=/opera mini/gi.test(e),i=/windows phone/gi.test(e);return!!(t||n||o||i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UP=38,t.DOWN=40,t.SPACE=32,t.ENTER=13,t.ESC=27},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.state,o=t.actions,i=t.dom;n.isOpen&&(o.close(),i.select.blur())}},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ADD="ADD",e.EDIT="EDIT",e.REMOVE="REMOVE"}(o||(o={})),t.default=o},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NONE="NONE",e.FULL="FULL",e.REPLACE="REPLACE",e.INNER="INNER",e.OUTER="OUTER"}(o=t.DomChangeType||(t.DomChangeType={})),t.default=o},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CLOSED="CLOSED",e.OPEN_ABOVE="OPEN_ABOVE",e.OPEN_BELOW="OPEN_BELOW"}(o||(o={})),t.default=o},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AT_TOP="AT_TOP",e.SCROLLED="SCROLLED",e.AT_BOTTOM="AT_BOTTOM"}(o||(o={})),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.label="",this.options=[],this.isDisabled=!1}return Object.defineProperty(e.prototype,"totalOptions",{get:function(){return this.options.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLabel",{get:function(){return""!==this.label},enumerable:!0,configurable:!0}),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.label="",this.value="",this.isDisabled=!1};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(22),n(23);var o=n(24);e.exports=o.default},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,o;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(25),r=n(72);function a(e,t){void 0===t&&(t={});var n=e;if("string"==typeof e&&(n=document.querySelector(e)),!(n instanceof HTMLSelectElement))throw new TypeError("[EasyDropDown] Invalid select element provided");if(n.multiple)throw new Error("[EasyDropDown] EasyDropDown does not support the `multiple` attribute on select elements.");for(var a=0,u=o.default;a<u.length;a++){var s=u[a];if(s.selectElement===n)return new r.default(s)}var l=new i.default(n,t);return o.default.push(l),new r.default(l)}var u,s=((u=a).all=function(e){void 0===e&&(e={});var t=document.querySelectorAll("select");Array.prototype.forEach.call(t,(function(t){return a(t,e)}))},u.destroy=function(){o.default.slice().forEach((function(e){return e.destroy()}))},u);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(10),r=n(33),a=n(50),u=n(1),s=n(63),l=n(64),d=n(65),c=n(66),f=n(67),p=n(69),h=n(7),v=n(71),b=function(){function e(e,t){this.config=o.default(new i.default,t,!0),this.state=p.default.mapFromSelect(e,this.config),this.renderer=new a.default(this.config.classNames),this.dom=this.renderer.render(this.state,e),this.timers=new v.default,this.actions=f.default.proxyActions(this.state,{closeOthers:d.default.bind(null,this,h.default),scrollToView:c.default.bind(null,this.dom,this.timers)},this.handleStateUpdate.bind(this)),this.eventBindings=r.default({actions:this.actions,config:this.config,dom:this.dom,state:this.state,timers:this.timers}),this.timers.pollChangeIntervalId=s.default(this.dom.select,this.state,this.actions,this.config),this.config.behavior.liveUpdates&&(this.timers.pollMutationIntervalId=l.default(this.dom.select,this.state,this.refresh.bind(this)))}return Object.defineProperty(e.prototype,"selectElement",{get:function(){return this.dom.select},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.state.value},set:function(e){if("string"!=typeof e)throw new TypeError("[EasyDropDown] Provided value not a valid string");this.dom.select.value=e},enumerable:!0,configurable:!0}),e.prototype.open=function(){u.default(this.actions,this.config,this.dom)},e.prototype.close=function(){this.actions.close()},e.prototype.refresh=function(){this.state=o.default(this.state,p.default.mapFromSelect(this.dom.select,this.config)),this.renderer.update(this.state),this.dom.group.length=this.dom.option.length=this.dom.item.length=0,a.default.queryDomRefs(this.dom,["group","option","item"])},e.prototype.validate=function(){return!(this.state.isRequired&&!this.state.hasValue)||(this.actions.invalidate(),!1)},e.prototype.destroy=function(){this.timers.clear(),this.eventBindings.forEach((function(e){return e.unbind()})),this.renderer.destroy();var e=h.default.indexOf(this);h.default.splice(e,1)},e.prototype.handleStateUpdate=function(e,t){var n=this.config.callbacks;switch(this.renderer.update(e,t),t){case"bodyStatus":var o=void 0;"function"==typeof(o=e.isOpen?n.onOpen:n.onClose)&&o();break;case"selectedIndex":"function"==typeof(o=n.onSelect)&&o(e.value);break;case"isClickSelecting":o=n.onOptionClick;if(!1===e[t]){var i=e.getOptionFromIndex(e.focusedIndex).value;"function"==typeof o&&o(i)}}},e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(9),r=function(){this.deep=!1,this.useReferenceIfTargetUnset=!1,this.useReferenceIfArray=!1,this.preserveTypeIfTargetUnset=!1,this.includeReadOnly=!1,this.includeNonEmurable=!1,this.arrayStrategy=o.default.REPLACE,this.errorMessage=i.MERGE_ERROR,Object.seal(this)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.constructor;return"function"==typeof t&&t!==Object?new t:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=function(){function e(){this.target=null,this.sources=[],this.config={}}return e.prototype.to=function(e){return this.target=e,this},e.prototype.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.sources=e,this},e.prototype.with=function(e){return this.config=e,this},e.prototype.exec=function(){var e=this;return this.sources.reduce((function(t,n){return o.default(t,n,e.config)}),this.target||{})},e}();t.default=i},function(e,t,n){"use strict";function o(e,t,n,o){var r=i(o.toLowerCase(),e),a=Math.abs(o.length-t.length);return r>n.totalMatching||r===n.totalMatching&&a<n.delta?{key:o,delta:a,totalMatching:r}:n}function i(e,t){for(var n=e.length>t.length?e:t,o=n===e?t:e,i=0,r=0,a=0,u=-1;i<n.length;i++){for(;0===a&&n[i]!==o[r]&&r<o.length;)r++;if(n[i]===o[r]){if(u!==i-1&&(a=0),u=i,r++,++a===o.length)break}else{if(a>1)break;a=r=0}}u=-1;for(var s=0,l=0,d=0,c=n.length-1,f=o.length-1;s<n.length-i;s++){for(;0===d&&n[c-s]!==o[f-l]&&l<o.length;)l++;if(n[c-s]===o[f-l])u!==s-1&&(d=0),u=s,d++,l++;else{if(d>1)break;d=l=0}}return Math.min(o.length,a+d)}Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalMatching=i,t.default=function(e,t,n,i){if(Object.hasOwnProperty.call(t,n)||!Object.isSealed(t)||Object.isExtensible(t)||!(e instanceof TypeError))throw e;var r=o.bind(null,n,n.toLowerCase()),a={key:"",delta:1/0,totalMatching:0},u=Object.keys(t).reduce(r,a),s=u&&u.totalMatching>1?u.key:"";throw new TypeError(i(n,s))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.showPlaceholderWhenOpen=!1,this.openOnFocus=!1,this.closeOnSelect=!0,this.useNativeUiOnMobile=!0,this.loop=!1,this.clampMaxVisibleItems=!0,this.liveUpdates=!1,this.maxVisibleItems=15,Object.seal(this)};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.onOpen=null,this.onClose=null,this.onSelect=null,this.onOptionClick=null,Object.seal(this)};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.root="edd-root",this.rootOpen="edd-root-open",this.rootOpenAbove="edd-root-open-above",this.rootOpenBelow="edd-root-open-below",this.rootDisabled="edd-root-disabled",this.rootInvalid="edd-root-invalid",this.rootFocused="edd-root-focused",this.rootHasValue="edd-root-has-value",this.rootNative="edd-root-native",this.gradientTop="edd-gradient-top",this.gradientBottom="edd-gradient-bottom",this.head="edd-head",this.value="edd-value",this.arrow="edd-arrow",this.select="edd-select",this.body="edd-body",this.bodyScrollable="edd-body-scrollable",this.bodyAtTop="edd-body-at-top",this.bodyAtBottom="edd-body-at-bottom",this.itemsList="edd-items-list",this.group="edd-group",this.groupDisabled="edd-group-disabled",this.groupHasLabel="edd-group-has-label",this.groupLabel="edd-group-label",this.option="edd-option",this.optionDisabled="edd-option-disabled",this.optionFocused="edd-option-focused",this.optionSelected="edd-option-selected",Object.seal(this)};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),i=n(35),r=n(36);function a(e,t){var n=new i.default(t);if(!n.target)return n;var r=function(t){return n.handler(t,e)};return n.throttle>0?n.boundHandler=o.default(r,n.throttle):n.boundHandler=r,n.target.addEventListener(n.type,n.boundHandler),n}t.bindEvent=a,t.default=function(e){return r.default(e.dom).map(a.bind(null,e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null,o=-1/0;return function(){for(var i=this,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var u=Date.now(),s=function(){n=null,e.apply(i,r),o=u},l=u-o;l>=t?s():(clearTimeout(n),n=setTimeout(s,t-l))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(e){this.type="",this.target=null,this.debounce=0,this.throttle=0,this.handler=null,this.boundHandler=null,this.passive=!1,o.default(this,e),Object.seal(this)}return e.prototype.unbind=function(){this.target&&this.target.removeEventListener(this.type,this.boundHandler)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),i=n(38),r=n(39),a=n(40),u=n(42),s=n(43),l=n(44),d=n(45),c=n(46),f=n(49),p=n(14),h=n(14);t.default=function(e){return[{target:e.head,type:"click",handler:a.default},{target:e.body,type:"mousedown",handler:i.default},{target:e.body,type:"click",handler:o.default},{target:e.body,type:"mouseover",handler:r.default},{target:e.itemsList,type:"scroll",handler:u.default},{target:e.select,type:"keydown",handler:c.default},{target:e.select,type:"invalid",handler:d.default},{target:e.select,type:"keypress",handler:f.default},{target:e.select,type:"focus",handler:l.default},{target:e.select,type:"blur",handler:s.default},{target:document.documentElement,type:"click",handler:p.default},{target:window,type:"resize",handler:h.default,throttle:100}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(5);t.default=function(e,t){t.state;var n=t.actions,r=t.dom,a=t.config;e.stopPropagation();var u=o.default(e.target,i.OPTION,!0);if(u){var s=Array.prototype.indexOf.call(r.option,u);n.selectOption(s,a.behavior.closeOnSelect)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(5);t.default=function(e,t){var n=t.actions;e.stopPropagation(),o.default(e.target,i.OPTION,!0)&&n.startClickSelecting()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(5);t.default=function(e,t){var n=t.state,r=t.actions,a=t.dom;e.stopPropagation();var u=o.default(e.target,i.OPTION,!0);if(u&&!n.isKeying){var s=Array.prototype.indexOf.call(a.option,u);r.focusOption(s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(12);function r(e,t,n){var i=n.state,r=n.actions,a=n.dom,u=n.config;if(!i.isUseNativeMode){var s=e(window.navigator.userAgent);t.stopPropagation(),i.isClosed?(o.default(r,u,a),s?r.focus():a.select.focus()):r.close()}}t.handleHeadClick=r;var a=r.bind(null,i.default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11);function i(e,t,n,i){var r=o.default.NONE,a=-1;if(e<=n&&t<=n){var u=Math.max(t,e);r=e<t?o.default.TOP:o.default.BOTTOM,a=Math.floor(u/i)}else e<=n?r=o.default.TOP:t<=n&&(r=o.default.BOTTOM);return{type:r,maxVisibleItemsOverride:a}}t.mapCollisionData=i,t.default=function(e,t){var n=e.head.getBoundingClientRect(),r=window.innerHeight,a=n.top-10,u=r-n.bottom-10;if(e.option.length<1)return{type:o.default.NONE,maxVisibleItemsOverride:-1};var s=Math.min(t.behavior.maxVisibleItems,e.item.length);return i(a,u,e.sumItemsHeight(s),e.sumItemsHeight(1))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t.state;var n=t.actions,o=t.dom;e.stopPropagation();var i=o.itemsList,r=i.offsetHeight,a=i.scrollHeight,u=i.scrollTop;0===u?n.topOut():u===a-r?n.bottomOut():n.scroll()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.actions,o=t.state,i=t.config;o.isKeying||(n.blur(),i.behavior.openOnFocus&&!o.isClickSelecting&&n.close())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=function(e,t){var n=t.actions,i=t.config,r=t.dom,a=t.state;n.focus(),i.behavior.openOnFocus&&!a.isUseNativeMode&&o.default(n,i,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.actions;t.config,t.dom,n.invalidate()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(6),r=n(13),a=n(47),u=n(48);t.default=function(e,t){var n=e.keyCode,s=e.target,l=t.state,d=t.actions,c=t.dom,f=t.config;if(!l.isUseNativeMode&&!l.isDisabled)switch(n){case r.DOWN:a.default(e,t);break;case r.UP:u.default(e,t);break;case r.SPACE:if(l.isSearching)return void e.stopPropagation();case r.ENTER:e.stopPropagation(),e.preventDefault(),i.default(s,t),l.isOpen?d.selectOption(l.focusedIndex,f.behavior.closeOnSelect):o.default(d,f,c);break;case r.ESC:d.close()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(6);t.default=function(e,t){var n=e.metaKey,r=e.target,a=t.state,u=t.dom,s=t.actions,l=t.config,d=a.focusedIndex>-1?a.focusedIndex:a.selectedIndex,c=0,f=1;e.preventDefault(),i.default(r,t),n&&(f=Math.round(Math.max(a.totalOptions/2,l.behavior.maxVisibleItems)));do{d+=f,f=1,d>=a.totalOptions&&(d=l.behavior.loop?0:a.totalOptions-1),s.focusOption(d,!0),c++}while(a.focusedOption&&a.focusedOption.isDisabled&&c<=a.totalOptions);a.isClosed&&o.default(s,l,u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(6);t.default=function(e,t){var n=e.metaKey,r=e.target,a=t.state,u=t.config,s=t.dom,l=t.actions,d=a.focusedIndex>-1?a.focusedIndex:a.selectedIndex,c=0,f=1;e.preventDefault(),i.default(r,t),n&&(f=Math.round(Math.max(a.totalOptions/2,u.behavior.maxVisibleItems)));do{d-=f,f=1,d<0&&(d=u.behavior.loop?a.totalOptions-1:0),l.focusOption(d,!0),c++}while(a.focusedOption&&a.focusedOption.isDisabled&&c<a.totalOptions);a.isClosed&&o.default(l,u,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(13);t.default=function(e,t,n){var i=e.keyCode,r=t.actions,a=t.timers;void 0===n&&(n=1200),t.state.isUseNativeMode||[o.UP,o.DOWN].includes(i)||(window.clearTimeout(a.searchTimeoutId),r.search(),a.searchTimeoutId=window.setTimeout((function(){return r.resetSearch()}),n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(51),i=n(58),r=n(59),a=n(60),u=n(62),s=function(){function e(e){this.dom=new r.default,this.classNames=e}return e.prototype.render=function(t,n){var a=o.default(t,this.classNames),u=i.default(a);return this.dom=new r.default,this.dom.root=u,this.dom.option.length=this.dom.group.length=0,e.queryDomRefs(this.dom),this.injectSelect(n),this.dom},e.prototype.update=function(e,t){var n=o.default(e,this.classNames),r=i.default(n),s=a.default(this.dom.root,r);u.default(this.dom.root,s),"selectedIndex"===t&&this.syncSelectWithValue(e.value)},e.prototype.destroy=function(){this.dom.select.classList.remove(this.classNames.select);try{this.dom.root.parentElement.replaceChild(this.dom.select,this.dom.root)}catch(e){}},e.prototype.injectSelect=function(e){var t=e.parentElement,n=this.dom.select;if(!t)throw new Error("[EasyDropDown] The provided `<select>` element must exist within a document");t.replaceChild(this.dom.root,e),n.parentElement.replaceChild(e,n),e.className=this.classNames.select,e.setAttribute("aria-hidden","true"),this.dom.select=e},e.prototype.syncSelectWithValue=function(e){if(this.dom.select.value!==e){var t=new CustomEvent("change",{bubbles:!0});this.dom.select.value=e,this.dom.select.dispatchEvent(t)}},e.queryDomRefs=function(e,t){return void 0===t&&(t=Object.keys(e)),t.reduce((function(e,t){var n='[data-ref~="'+t+'"]',o=e.root.querySelectorAll(n);if(o.length<1||"root"===t)return e;var i=o[0],r=e[t];return null===r?e[t]=i:Array.isArray(r)&&Array.prototype.push.apply(r,o),e}),e)},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(52),r=n(55);t.default=function(e,t){return'\n        <div\n            class="'+o.default([t.root,[e.isDisabled,t.rootDisabled],[e.isInvalid,t.rootInvalid],[e.isOpen,t.rootOpen],[e.isFocused,t.rootFocused],[e.hasValue,t.rootHasValue],[e.isOpenAbove,t.rootOpenAbove],[e.isOpenBelow,t.rootOpenBelow],[e.isUseNativeMode,t.rootNative]])+'"\n            role="widget combobox"\n            aria-haspopup="listbox"\n            '+(e.isOpen?'aria-expanded="true"':"")+"\n            "+(e.isRequired?'aria-required="true"':"")+"\n            "+(e.isDisabled?'aria-disabled="true"':"")+"\n            "+(e.isInvalid?'aria-invalid="true"':"")+"\n        >\n            "+r.default(e,t)+"\n            "+(e.isUseNativeMode?"":i.default(e,t))+"\n        </div>\n    "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(53);t.default=function(e,t){var n=o.default([t.body,[e.isAtTop,t.bodyAtTop],[e.isAtBottom,t.bodyAtBottom],[e.isScrollable,t.bodyScrollable]]),r=e.isOpen?'style="max-height: '+e.maxBodyHeight+'px;"':"";return'\n        <div\n            class="'+n+'"\n            data-ref="body"\n            role="listbox"\n            '+(e.isOpen?"":"aria-hidden")+'\n        >\n            <div class="'+t.itemsList+'"\n                data-ref="itemsList"\n                '+r+">\n                "+e.groups.map((function(n){return i.default(n,e,t)})).join("")+"\n            </div>\n            <div class="+t.gradientTop+' role="presentation"></div>\n            <div class='+t.gradientBottom+' role="presentation"></div>\n        </div>\n    '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(54);t.default=function(e,t,n){return'\n        <div class="'+o.default([n.group,[e.isDisabled,n.groupDisabled],[e.hasLabel,n.groupHasLabel]])+'" data-ref="group" role="group">\n            '+(e.hasLabel?'<div class="'+n.groupLabel+'" data-ref="item">'+e.label+"</div>":"")+"\n            "+e.options.map((function(e){return i.default(e,t,n)})).join("")+"\n        </div>\n    "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);t.default=function(e,t,n){var i=t.selectedOption===e;return'\n        <div\n            class="'+o.default([n.option,[i,n.optionSelected],[e===t.focusedOption,n.optionFocused],[e.isDisabled,n.optionDisabled]])+'"\n            data-ref="option item"\n            role="option"\n            title="'+e.label+'"\n            '+(i?'aria-selected="true"':"")+"\n            "+(e.isDisabled?'aria-disabled="true"':"")+"\n            >\n                "+e.label+"\n        </div>\n    "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(56),i=n(57);t.default=function(e,t){return'\n    <div class="'+t.head+'" data-ref="head">\n        '+i.default(e,t)+"\n        "+o.default(e,t)+'\n        <select class="'+t.select+'" data-ref="select"></select>\n    </div>\n'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return'<div class="'+t.arrow+'" role="presentation"></div>'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return'\n        <div\n            class="'+t.value+'"\n            data-ref="value"\n            '+(e.isPlaceholderShown?'aria-placeholder="'+e.humanReadableValue+'"':"")+"\n        >\n            "+e.humanReadableValue+"\n        </div>\n    "}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.select=null,this.root=null,this.head=null,this.value=null,this.body=null,this.arrow=null,this.itemsList=null,this.item=[],this.group=[],this.option=[]}return e.prototype.sumItemsHeight=function(e){void 0===e&&(e=1/0);for(var t=0,n=0,o=void 0;(o=this.item[n])&&n!==e;n++)t+=o.offsetHeight;return t},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(15),r=n(16),a=n(61);function u(e,t){for(var n=Math.max(e.attributes.length,t.attributes.length),o={},a=[],u=0;u<n;u++){var s=e.attributes[u],l=t.attributes[u];s&&void 0===o[s.name]&&(o[s.name]=[]),l&&void 0===o[l.name]&&(o[l.name]=[]),s&&(o[s.name][0]=s.value),l&&(o[l.name][1]=l.value)}var d=Object.keys(o);d.length>1&&d.sort();u=0;for(var c=void 0;c=d[u];u++){var f=o[c],p={type:null,name:c,value:null};f[0]!==f[1]&&(void 0===f[0]?(p.type=i.default.ADD,p.value=f[1]):void 0===f[1]?(p.type=i.default.REMOVE,p.value=""):(p.type=i.default.EDIT,p.value=f[1]),a.push(p))}return{type:r.default.OUTER,attributeChanges:a}}t.default=function e(t,n){var i=-1,s=new a.default;if(t instanceof HTMLSelectElement)return s.type=r.default.NONE,s;if(t instanceof Text&&n instanceof Text)t.textContent===n.textContent?s.type=r.default.NONE:(s.type=r.default.INNER,s.newTextContent=n.textContent);else if(t instanceof HTMLElement&&n instanceof HTMLElement)if(t.tagName!==n.tagName)s.type=r.default.REPLACE,s.newNode=n;else if(t.outerHTML===n.outerHTML)s.type=r.default.NONE;else if(t.innerHTML===n.innerHTML)o.default(s,u(t,n));else if(o.default(s,u(t,n)),s.attributeChanges.length>0?s.type=r.default.FULL:s.type=r.default.INNER,(i=t.childNodes.length)>0&&i===n.childNodes.length)for(var l=0,d=void 0;d=t.childNodes[l];l++)s.childCommands.push(e(d,n.childNodes[l]));else s.newInnerHtml=n.innerHTML;else s.type=r.default.REPLACE,s.newNode=n;return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.newNode=null,this.newInnerHtml="",this.newTextContent="",this.attributeChanges=[],this.childCommands=[],this.index=null};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=n(16);function r(e,t){var n=window.requestAnimationFrame;t.forEach((function(t){n&&["class","style"].indexOf(t.name)>-1?n((function(){return a(e,t)})):a(e,t)}))}function a(e,t){switch(t.type){case o.default.ADD:case o.default.EDIT:e.setAttribute(t.name,t.value);break;case o.default.REMOVE:e.removeAttribute(t.name)}}t.default=function e(t,n){switch(n.type){case i.default.NONE:return t;case i.default.REPLACE:return t.parentElement.replaceChild(n.newNode,t),n.newNode;case i.default.INNER:return t instanceof Text?t.textContent=n.newTextContent:n.childCommands.length>0?n.childCommands.forEach((function(n,o){return e(t.childNodes[o],n)})):t.innerHTML=n.newInnerHtml,t;case i.default.OUTER:return r(t,n.attributeChanges),t;case i.default.FULL:return n.childCommands.length>0?n.childCommands.forEach((function(n,o){return e(t.childNodes[o],n)})):t.innerHTML=n.newInnerHtml,r(t,n.attributeChanges),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,o){var i=e.value;return window.setInterval((function(){if(e.value!==i){var r=t.getOptionIndexFromValue(e.value);n.selectOption(r,o.behavior.closeOnSelect),n.focusOption(r,!0)}i=e.value}),100)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var o=e.outerHTML;return window.setInterval((function(){var i=e.outerHTML;i===o||t.isKeying||n(),o=i}),300)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=0,o=t;n<o.length;n++){var i=o[n];i!==e&&i.actions.close()}}},function(e,t,n){"use strict";function o(e,t,n,o,i){var r;return t<e?t-i:(r=t+n-(e+o))>0?e+r+i:e}Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollTop=o,t.default=function(e,t,n,i){void 0===i&&(i=!1);var r=Math.max(0,n.focusedIndex>-1?n.focusedIndex:n.selectedIndex),a=e.option[r];if(a){var u=i?n.maxBodyHeight/2-a.offsetHeight/2:0,s=o(e.itemsList.scrollTop,a.offsetTop,a.offsetHeight,n.maxBodyHeight,u);s!==e.itemsList.scrollTop&&(e.itemsList.scrollTop=s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(68),r=function(){function e(){}return e.proxyActions=function(t,n,r){var a=e.createStateProxy(t,r),u=i.default(a);return o.default(u,n),u},e.createStateProxy=function(t,n){return Object.seal(e.getPropertyDescriptorsFromValue(t,n).reduce((function(e,t){var n=t.key,o=t.get,i=t.set;return Object.defineProperty(e,n,{enumerable:!0,get:o,set:i})}),{}))},e.getPropertyDescriptorsFromValue=function(t,n){var o=Object.getPrototypeOf(t);return Object.keys(t).concat(Object.keys(o)).reduce((function(i,r){var a="function"==typeof(Object.getOwnPropertyDescriptor(t,r)||Object.getOwnPropertyDescriptor(o,r)).get;return i.push({get:e.readPropertyValue.bind(null,t,r),set:a?void 0:e.updatePropertyValue.bind(null,t,r,n),key:r}),i}),[])},e.readPropertyValue=function(e,t){return e[t]},e.updatePropertyValue=function(e,t,n,o){e[t]!==o&&(e[t]=o,n(e,t))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(17),r=n(18);t.default=function(e){return{focus:function(){e.isFocused=!0},blur:function(){e.isFocused=!1},invalidate:function(){e.isInvalid=!0},validate:function(){e.isInvalid=!1},topOut:function(){e.scrollStatus=r.default.AT_TOP},bottomOut:function(){e.scrollStatus=r.default.AT_BOTTOM},scroll:function(){e.scrollStatus=r.default.SCROLLED},makeScrollable:function(){e.isScrollable=!0},makeUnscrollable:function(){e.isScrollable=!1},open:function(t,n,r){if(!e.isDisabled){switch(this.closeOthers(),n){case o.default.NONE:case o.default.TOP:e.bodyStatus=i.default.OPEN_BELOW;break;case o.default.BOTTOM:e.bodyStatus=i.default.OPEN_ABOVE}e.isScrollable=r,e.maxBodyHeight=t,this.scrollToView(e,!0)}},close:function(){e.bodyStatus=i.default.CLOSED,e.focusedIndex=-1,this.blur()},startClickSelecting:function(){e.isClickSelecting=!0},selectOption:function(t,n){void 0===n&&(n=!0);var o=e.getOptionFromIndex(t);e.isClickSelecting=!1,t>-1&&(!o||o.isDisabled)||(e.selectedIndex=t,e.isInvalid&&e.hasValue&&this.validate(),e.isSearching?this.scrollToView(e):n&&this.close())},focusOption:function(t,n){void 0===n&&(n=!1);var o=Math.abs(t-e.focusedIndex)>1;e.focusedIndex=t,n&&this.scrollToView(e,o)},search:function(){e.isSearching=!0},resetSearch:function(){e.isSearching=!1},keying:function(){e.isKeying=!0},resetKeying:function(){e.isKeying=!1},useNative:function(){e.isUseNativeMode=!0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(12),r=n(19),a=n(20),u=n(70),s=function(){function e(){}return e.mapFromSelect=function(t,n){var o=new u.default(null,n),r=!1;o.name=t.name,o.isDisabled=t.disabled,o.isRequired=t.required,o.isUseNativeMode=n.behavior.useNativeUiOnMobile&&i.default(window.navigator.userAgent);for(var a=0,s=void 0;s=t.children[a];a++)if(0!==a||null===s.getAttribute("data-placeholder"))if(s instanceof HTMLOptionElement)!1===r&&(o.groups.push(e.mapGroup()),r=!0),o.lastGroup.options.push(e.mapOption(s)),s.selected&&(o.selectedIndex=o.totalOptions-1);else{if(!(s instanceof HTMLOptGroupElement))throw new TypeError('[EasyDropDown] Invalid child tag "'+s.tagName+'" found in provided `<select>` element');r=!0,o.groups.push(e.mapGroup(s));for(var l=0,d=void 0;d=s.children[l];l++)o.lastGroup.options.push(e.mapOption(d,s)),d.selected&&(o.selectedIndex=o.totalOptions-1);r=!1}else o.placeholder=s.textContent,s.value="";return Object.seal(o)},e.mapGroup=function(e){return void 0===e&&(e=null),o.default(new r.default,{label:e?e.label:"",isDisabled:!!e&&e.disabled})},e.mapOption=function(e,t){if(void 0===t&&(t=null),!(e instanceof HTMLOptionElement))throw new TypeError("[EasyDropDown] Invalid markup structure");var n=null!==t&&t.disabled;return o.default(new a.default,{label:e.textContent,value:e.value,isDisabled:e.disabled||n})},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(10),r=n(17),a=n(18),u=n(19),s=n(20),l=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=new i.default),this.groups=[],this.focusedIndex=-1,this.selectedIndex=-1,this.maxVisibleItemsOverride=-1,this.maxBodyHeight=-1,this.name="",this.placeholder="",this.scrollStatus=a.default.AT_TOP,this.bodyStatus=r.default.CLOSED,this.isDisabled=!1,this.isRequired=!1,this.isInvalid=!1,this.isFocused=!1,this.isUseNativeMode=!1,this.isScrollable=!1,this.isClickSelecting=!1,this.isSearching=!1,this.isKeying=!1,this.config=t,e&&(o.default(this,e),this.groups=this.groups.map((function(e){var t=o.default(new u.default,e);return t.options=t.options.map((function(e){return o.default(new s.default,e)})),t})))}return Object.defineProperty(e.prototype,"totalGroups",{get:function(){return this.groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastGroup",{get:function(){return this.groups[this.groups.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalOptions",{get:function(){return this.groups.reduce((function(e,t){return e+t.totalOptions}),0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedOption",{get:function(){return this.getOptionFromIndex(this.selectedIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedOption",{get:function(){return this.getOptionFromIndex(this.focusedIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.selectedOption?this.selectedOption.value:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"humanReadableValue",{get:function(){return!this.hasValue&&this.hasPlaceholder||this.config.behavior.showPlaceholderWhenOpen&&this.hasPlaceholder&&this.isOpen?this.placeholder:this.label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.selectedOption?this.selectedOption.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return""!==this.placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaceholderShown",{get:function(){return this.hasPlaceholder&&!this.hasValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasValue",{get:function(){return""!==this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGrouped",{get:function(){return Boolean(this.groups.find((function(e){return e.hasLabel})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.bodyStatus!==r.default.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this.bodyStatus===r.default.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpenAbove",{get:function(){return this.bodyStatus===r.default.OPEN_ABOVE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpenBelow",{get:function(){return this.bodyStatus===r.default.OPEN_BELOW},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtTop",{get:function(){return this.scrollStatus===a.default.AT_TOP},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtBottom",{get:function(){return this.scrollStatus===a.default.AT_BOTTOM},enumerable:!0,configurable:!0}),e.prototype.getOptionFromIndex=function(e){for(var t=0,n=0,o=this.groups;n<o.length;n++){var i=o[n];if(e<0)break;if(e<=Math.max(0,t+i.totalOptions-1))return i.options[e-t];t+=i.totalOptions}return null},e.prototype.getOptionIndexFromValue=function(e){for(var t=-1,n=0,o=this.groups;n<o.length;n++)for(var i=0,r=o[n].options;i<r.length;i++){if(t++,r[i].value===e)return t}return-1},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.clear=function(){var e=this;Object.keys(this).forEach((function(t){return window.clearInterval(e[t])}))},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.open=e.open.bind(e),this.close=e.close.bind(e),this.refresh=e.refresh.bind(e),this.destroy=e.destroy.bind(e),this.validate=e.validate.bind(e),Object.defineProperties(this,{value:{get:function(){return e.value},set:function(t){return e.value=t}}})};t.default=o}])}));
//# sourceMappingURL=easydropdown.js.map
</script>
<script>
    var picker = new Lightpick({
        field: document.querySelector('#datepicker #startdate'),
        secondField: document.querySelector('#datepicker #enddate'),
        repick: true,
        startDate: moment().startOf('month').add(7, 'day'),
        endDate: moment().add(1, 'month').endOf('month').subtract(7, 'day'),
        onSelect: function(start, end){
            var str = '';
            str += start ? start.format('Do MMMM YYYY') + ' to ' : '';
            str += end ? end.format('Do MMMM YYYY') : '...';
            document.getElementById('result-11').innerHTML = str;
        }
    });
</script>

<script>
    let valid_axes = {{ valid_axes|safe}}

    let filters = []
    let data = {{ products|safe}}
    let filtered = []

    let fields = Object.keys(data[0])
    let xControls = document.getElementsByName('x')[0]
    let yControls = document.getElementsByName('y')[0]

    // Populate axes
    Array.from(fields).forEach(field => {

        if (Array.from(valid_axes).includes(field)) {
            
            let option = document.createElement('OPTION')
            option.value = field
            option.textContent = toPlainEnglish(field)
            
            xControls.appendChild(option.cloneNode(true))
            yControls.appendChild(option.cloneNode(true))
        }
    })

    xControls.value = 'launch_date'
    yControls.value = 'mem_size_list'
    easydropdown.all();

    let tooltipData = data[0]
    loadChart(data)

    window.onresize = function(e) {

        loadChart(data)
    }

    function isValidDate (d) {

        return d instanceof Date && !isNaN(d);
    }
    
    function toPlainEnglish(key, value) {

        let map = {
            'mem': 'memory',
            'perf': 'performance',
            'accel': 'accelerators',
            'trans': 'transistor',
            'interf': 'interface',
            'tbp': 'Typical Board Power',
            'd': '(Desktop)',
            'freq': 'frequency'
        }

        let english = ''
        let words = key.split('_')

        Array.from(words).forEach(word => {

            if (word in map) {

                word = map[word]
            }

            if (/\d/g.test(word)) {

                word = word.toUpperCase()
            }

            english += word + ' '
        })

        english = english.trim(' ')

        if (value != null) {
            
            // If the value is not null and not a date, append it.
            // If it's a date, format it and then append it
            if (key.includes('date') && isValidDate(new Date(value))) {
                
                let dateOptions = { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric' };
                value = new Date(value).toLocaleDateString("en-US", dateOptions)
            }

            english += ': ' + value
        }

        english = english.trim().replace(/^\w/, (c) => c.toUpperCase())

        return english
    }

    // gridlines in x axis function
    function make_x_gridlines(x) {

        return d3.axisBottom(x).ticks(0)
    }

    // gridlines in y axis function
    function make_y_gridlines(y) {

        return d3.axisLeft(y).ticks(0)
    }

    // Alleviate overplotting by merging overlapping plots into
    // "multi-plot" objects
    function consolidatePlots(arr, key1, key2, width, height) {

        function getMin(array, key) {

            let isDate = false
            if (key.includes('date')) {

                isDate = true
            }

            let min
            if (isDate) {

                min = Date.parse(array[0][key])
            } else {

                min = ensureNumeric(array[0][key])
            }
            
            for (let i; i < array; i++) {

                let ensured = ensureNumeric(array[0][key])
                if (ensured < min) {

                    min = ensured
                }
            }

            return min
        }

        function getMax(array, key) {

            let isDate = false
            if (key.includes('date')) {

                isDate = true
            }

            let max
            if (isDate) {

                max = Date.parse(array[0][key])
            } else {

                max = ensureNumeric(array[0][key])
            }

            for (let i; i < array; i++) {

                let ensured = ensureNumeric(array[0][key])
                if (ensured > max) {
                    console.log(ensured + ' is greater than ' + max)
                    max = ensured
                }
            }

            return max
        }  

        let [xMin, xMax, yMin, yMax] = [getMin(arr, key1), getMax(arr, key1), getMin(arr, key2), getMax(arr, key2)]
        console.log('maximums', xMin, xMax, yMin, yMax)

        let uniques = []
        arr.forEach(el => {
            let push = true
            
            // Transform any values if necessary for charting
            Array.from([key1, key2]).forEach(property => {

                if (property.includes('date')) {

                    if (isValidDate(new Date(el[property]))) {

                        //let transformed = new Date(el[property])
                        let transformed = Date.parse(el[property])
                        el[property] = transformed
                    } else {

                        push = false
                    }
                }
            })

            for (let i = 0; i < uniques.length; i++) {

                // The current el will overlap the uel if you append it to uel
                // If overlay by 20px or more
                if (isWithinThreshold(xMin, xMax, width, [el[key1], uniques[i][key1]], 16) && isWithinThreshold(yMin, yMax, height, [el[key2], uniques[i][key2]], 16)) {

                    
                }

                if (el[key1] == uniques[i][key1] && el[key2] == uniques[i][key2]) {

                    // Check if the uel is a multiplot
                    if ((uniques[i].hasOwnProperty('multiplot')) == false) {

                        uniques[i].multiplot = []
                    }

                    // Instead of appending the element into uniques, append
                    // it to the uel multiplot field
                    delete el.multiplot
                    uniques[i].multiplot.push(JSON.parse(JSON.stringify(el)))
                    uniques[i]['image'] = 'Multiplot_placeholder.png'
                    push = false
                }
            }

            // If the element was pushed to a multiplot array, don't push it to uniques
            if (push == true) {

                if(el[key1] != 'null' && el[key2] != 'null') {

                    delete el.multiplot

                    // Replace any non defined images with a placeholder
                    if ('image' in el) {

                        if (['null', 'nan', null, ''].includes(el['image'])) {
                            
                            el['image'] = 'Broken_image_icon.png'
                        }
                    } else {

                        el['image'] = 'Broken_image_icon.png'
                    }

                    uniques.push(JSON.parse(JSON.stringify(el)))
                }
            }
        })

        return uniques
    }

    /*
        Returns false unless the points overlap by more than the threshold
    */
    function isWithinThreshold (min, max, axisLength, points, lenience) {

        console.log('is within threshold')
        console.log(min, max, axisLength, points, lenience)
        valueLength = max - min
        for(let i = 0; i < points.length; i++) {

            points[i] = ensureNumeric(points[i])
            console.log(valueLength)
            let percentage = (valueLength - points[i]) / valueLength
            console.log(percentage)
            let pixelCoord = axisLength * percentage
            points[i] = pixelCoord
        }

        if (points[0] - points[1] <= 16) {

            return true
        }

        return false
    }

    function ensureNumeric(value) {

        if (value instanceof String) {

            let number = 0
            if (Number.isNaN(parseInt(value)) == false) {

                let split = value.split('/')
                if (split.length > 1) {
                    
                    return Math.max(split.map(Number))
                }

                number = parseInt(value)
            }

            return number;
        } else {

            return value
        }
    }

    let expanded = false
    function toggleSettingsDrawer(e) {

        if(!expanded) {
            
            e.innerText = 'Close options'
            document.getElementById('controls').classList.add('expanded')
            expanded = true
        } else {

            e.innerText = 'More options'
            document.getElementById('controls').classList.remove('expanded')
            expanded = false
        }
    }

    function containsObject(obj, list) {

        let i;
        for (i = 0; i < list.length; i++) {

            // Use JSON.stringify to dereference objects
            if (JSON.stringify(list[i]) === JSON.stringify(obj)) {

                return true;
            }
        }

        return false;
    }

    /*        
        Format: x: y
        Description: Element must have a key of x with the value of y

        Format: x: [y, z]
        Description: Element must have a key of x with an array containing y and z
    */
    function updateFilters (filter) {

        filter = JSON.parse(JSON.stringify(filter))

        if (!containsObject(filter, filters)) {

            filters.push(filter)
            return
        } else {

            let filterPosition = filters.indexOf(filter)
            filters.splice(filterPosition, 1)
        }
    }

    /*
        data: Should be an unfiltered array of objects.
        filters: Should be an array of "filter objects".

        Filter objects are representations of filters to be used by the filter function.
        Filter objects:

        Key value: "key that must exist": "value it must be set to"
        Key values: "key that must exist": "values that must be in the array"

    */
    function filter (data, filters) {

        results = []

        // Loop through elements
        data.forEach(el => {

            // Filter testing uses this to flag invalid elements
            let flag = true

            // Loop through filters
            filters.forEach(filter => {

                // Lets me select value without knowing its key
                let key = Object.keys(filter)[0]

                if (Array.isArray(filter[key])) {

                    // Loop through the filter's list items
                    for (let i = 0; i < filter[key].length; i++) {
                        
                        // If any of the filter list items are not in the element's
                        // list, flag the element and break
                        if (el[key].indexOf(filter[key][i]) >= 0) {

                            flag = false
                            break
                        }
                    }
                } else {

                    if (key in el) {

                        // Check that key is value
                        if (el[key] != filter[key]) {

                            flag = false
                        }       
                    } else {

                        flag = false
                    }
                }
                
            })

            if (flag == true) {
                
                results.push(el)
            }
        })
        
        return results
    }
    
    function loadChart (data) {

        // Consolidate duplicate plots.
        filtered = filter(data, filters)

        // Remove plots with null values for their X or Y key values.
        let notNull = []
        filtered.forEach(el => {

            if (![null, 'null', NaN, 'nan', 'NaN'].includes(el[xControls.value]) && ![null, 'null', NaN, 'nan', 'NaN'].includes(el[yControls.value])) {
                
                notNull.push(el)
            }
        })

        // Set the dimensions and margins of the graph
        var margin = { top: 40, right: 120, bottom: 40, left: 60 },
            width = document.getElementById('chart').clientWidth - margin.left - margin.right,
            height = window.innerHeight - margin.top - margin.bottom;

        // Consolidate overlapping plots into "multiplots".
        filtered = consolidatePlots(notNull, xControls.value, yControls.value, width, height)

        // Set the ranges
        var x = d3.scaleLinear().range([0, width]);
        var y = d3.scaleLinear().range([height, 0]);

        /*
        * Define the line.
        * Append the svg obgect to the body of the page.
        * Appends a 'group' element to 'svg'.
        * Moves the 'group' element to the top left margin.
        */
        document.getElementById('chart').innerHTML = ''

        var svg = d3.select("#chart").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g").attr("transform",
                "translate(" + margin.left + "," + margin.top + ")")

        var tooltip = d3.select("#chart")
            .append("div")
            .style("position", "absolute")
            .style("z-index", "10")
            .style("visibility", "hidden")
            .attr('class', 'tooltip round-med shadowed-hard');

        // Scale the range of the data
        let extent = d3.extent(filtered, function (d) { return ensureNumeric(d[xControls.value])});
        x.domain(extent);

        extent = [0, d3.max(filtered, function (d) { return ensureNumeric(d[yControls.value]) })]
        y.domain(extent);

        // Create axes
        [['xControls', 'x'], ['yControls', 'y']].forEach( axis => {

            if (eval(axis[0]).value.includes('date')) {
                
                // I tried wrapping axis[1] with an eval, but I got Uncaught ReferenceError: cannot assign to function call. So, I changed to this dumb if statement
                if (axis[1] == 'x') {

                    extent = d3.extent(filtered, function (d) {

                        if (!isNaN(Date.parse(d[eval(axis[0]).value]))) {

                            return new Date(d[eval(axis[0]).value])
                        }
                    })

                    x = d3.scaleTime().domain(extent).nice(d3.timeMonth).range([0, width]);
                } else {

                    extent = [d3.min(filtered, function (d) {
                        
                        if (!isNaN(Date.parse(d[eval(axis[0]).value]))) {

                            return new Date(d[eval(axis[0]).value])
                        }
                    }), d3.max(filtered, function (d) {

                        if (!isNaN(Date.parse(d[eval(axis[0]).value]))) {

                            return new Date(d[eval(axis[0]).value])
                        }
                    })]

                    y = d3.scaleTime().domain(extent).nice(d3.timeMonth).range([0, height]);
                }
            }
        })

        let defs = svg.append('defs')
        defs.selectAll('pattern')
            .data(filtered)
            .enter()
            .append('pattern')
            .attr("id", function(d) {
            
                if (d.hasOwnProperty('image')) {
                    
                    if (d['image'].length > 3) {

                        return "image"+ btoa(d['image']).replace('==', '');
                    }
                }

                return ''
            })
            .attr("width", 1)
            .attr("height", 1)
            .append("svg:image")
            .attr("xlink:href", function(d) {
                
                if (d.hasOwnProperty('image')) {
                    
                    if (d['image'].length > 3) {

                        return 'https://wiki.oneorzero.org/view/Special:FilePath/' + d['image'] + '?width=40)';
                    }
                }

                return ''
            })
            .attr("width", 40)
            .attr("height", 40);
    
        // Add plots
        svg.append('g')
            .selectAll("dot")
            .data(filtered)
            .enter()
            .append("circle")
            .attr("cx", function (d) {

                if (xControls.value.includes('date')) {

                    return x(xControls.value.toString());
                }

                return x(ensureNumeric(d[xControls.value]));
            })
            .attr("cy", function (d) {

                if (yControls.value.includes('date')) {

                    return y(yControls.value.toString());
                }

                return y(ensureNumeric(d[yControls.value]));
            })
            .attr("r", 20)
            .attr('fill', function(d) {

                if ('image' in d) {
                    
                    if (d['image'].length > 3) {

                        return 'url(#image' + btoa(d['image']).replace('==', '') + ')'
                    }
                } else {
                    
                    /*console.log(d['model'] + ' made it to plotting with no img')*/
                }
            })
            .style("opacity", "1")
            .on("mouseover", function (d) {

                if (!d.hasOwnProperty('multiplot')) {

                    d.multiplot = [JSON.parse(JSON.stringify(d))]
                }
                
                tooltipData = d
                tooltip.node().classList.remove('hidden')
                tooltip.node().classList.add('bottom')
                tooltip.html('')

                let list = document.createElement('UL')
                let specs = document.createElement('DIV')
                specs.innerText += toPlainEnglish(xControls.value, d[xControls.value])
                list.appendChild(specs)

                specs = document.createElement('DIV')
                specs.innerText += toPlainEnglish(yControls.value, d[yControls.value])
                list.appendChild(specs)

                for (let i = 0; i < d.multiplot.length; i++ ) {

                    if (i === 4) {
                        
                        if (d.multiplot.length - 1 - i) {

                            let more = document.createElement('SPAN')
                            more.textContent = 'And ' + (d.multiplot.length - i) + ' more...'
                            list.appendChild(more)
                        }

                        break
                    }

                    let el = d.multiplot[i]
                    let product = document.createElement('A')
                    product.classList.add(el['company'].trim().toLowerCase() + '-branded')
                    product.classList.add('{{ header|safe}}'.replace(' ', '-'))

                    let thumb = document.createElement('DIV')
                    thumb.classList.add('image-thumb')
                    
                    if (!el.hasOwnProperty('image')) {

                        thumb.style.backgroundImage = "url({{ url_for('static', filename='/img/thumbs/gpu-generic.jpg') }})";
                    } else {

                        thumb.style.backgroundImage = 'url(https://wiki.oneorzero.org/view/Special:FilePath/' + el['image'] + '?width=40)';;
                    }

                    product.appendChild(thumb)
                    
                    let model = document.createElement('P')
                    model.textContent += el['model']
                    product.appendChild(model)

                    let wrapper = document.createElement('LI')
                    wrapper.appendChild(product)
                    list.appendChild(wrapper)

                    tooltip.node().addEventListener('click', function() {

                        toggleModal(1)
                    }, false)
                }


                tooltip.html(list.outerHTML)
                let leftCoord = event.target.getBoundingClientRect().left + 16
                leftCoord = leftCoord - (tooltip.node().clientWidth / 2)
                if ((leftCoord + (tooltip.node().clientWidth)) > document.getElementById('chart').clientWidth) {

                    leftCoord = document.getElementById('chart').clientWidth - tooltip.node().clientWidth - 20
                } else if ((leftCoord - 16) < 0) {
                    
                    leftCoord = 20
                }

                let topCoord = event.target.getBoundingClientRect().top + 32 + 16 + 8
                if (topCoord + (tooltip.node().clientHeight) > document.getElementById('chart').clientHeight) {
                    
                    tooltip.node().classList.remove('top')
                    tooltip.node().classList.add('bottom')
                    topCoord = event.target.getBoundingClientRect().top - tooltip.node().clientHeight - 8
                } else {

                    tooltip.node().classList.remove('bottom')
                    tooltip.node().classList.add('top')
                }

                return tooltip.style("visibility", "visible").style("top", topCoord + "px").style("left", leftCoord + "px");
            })
            .on("mouseout", function () {

                return tooltip.node().classList.add('hidden');
            })
            .on('click', function () {

                toggleModal(1)
                return
            })

        function parseUnit (str, out) {

            if (!out)
                out = [ 0, '' ]

            str = String(str)
            var num = parseFloat(str, 10)
            out[0] = num
            out[1] = str.match(/[\d.\-\+]*\s*(.*)/)[1] || ''
            return out
        }

        // Add the X Axis
        svg.append("g")
            .attr("transform", "translate(0," + (height + 40) + ")")
            .call(d3.axisTop(x).tickFormat(d => {

                if(!xControls.value.includes('date')) {

                    if (/[a-z]/i.test(filtered[0][xControls.value]) && /\d/g.test(filtered[0][xControls.value])) {
                        
                        return d + parseUnit(filtered[0][xControls.value])[1]
                    }

                    return d
                }

                let dateOptions = { year: 'numeric', month: 'short' };
                return new Date(d).toLocaleDateString("en-US", dateOptions)
            }));

        // Add the Y Axis
        svg.append("g")
            .attr("transform", "translate(" + (width + 120) + ", 0)")
            .call(d3.axisLeft(y).ticks(8).tickFormat(d => {

                if(!yControls.value.includes('date')) {
                    
                    if (/[a-z]/i.test(filtered[0][yControls.value]) && /\d/g.test(filtered[0][yControls.value])) {
                        
                        return d + ' ' + parseUnit(filtered[0][yControls.value])[1]
                    }

                    return d
                }
            
                let dateOptions = { year: 'numeric', month: 'short' };
                return new Date(d).toLocaleDateString("en-US", dateOptions)
            }));
    }

    function toggleModal (state) {

        let modal = document.getElementsByClassName('modal')[0]
        modal.getElementsByClassName('modal-content')[0].innerHTML = null
        modalContent = modal.getElementsByClassName('modal-content')[0]
        let wrapper = document.createElement('DIV')
        wrapper.style.width = '720px'

        if (state) {

            let topBar = document.createElement('DIV')
            topBar.classList.add(['topbar'])

            let icon = document.createElement('IMG')
            icon.src = "{{ url_for('static', filename='img/full-res-icon.png') }}"
            wrapper.appendChild(icon)

            let list = document.createElement('UL')
            list.classList.add('round-hard')
            let specs = document.createElement('LI')
            specs.innerText += toPlainEnglish(xControls.value, tooltipData[xControls.value])
            list.appendChild(specs)

            specs = document.createElement('LI')
            specs.innerText += toPlainEnglish(yControls.value, tooltipData[yControls.value])
            list.appendChild(specs)
            wrapper.appendChild(list)
            topBar.appendChild(wrapper)

            modalContent.appendChild(topBar)
            
            wrapper = document.createElement('DIV')
            wrapper.style.width = '720px'

            let content = document.createElement('DIV')
            content.classList.add('content')

            let rightCol = document.createElement('DIV')

            let table = document.createElement('TABLE')
            let tr = document.createElement('TR')
            Array.from(['Products', '', yControls.value, '']).forEach(key => {

                let th = document.createElement('th')
                th.textContent = toPlainEnglish(key)
                tr.appendChild(th)
            })

            table.appendChild(tr)

            Array.from(tooltipData.multiplot).forEach(multiplot => {

                let tr = document.createElement('TR')

                let td = document.createElement('TD')
                let img = document.createElement('DIV')
                img.classList.add('image-thumb')
                if (!multiplot.hasOwnProperty('image')) {

                    img.style.backgroundImage = "url({{ url_for('static', filename='img/thumbs/gpu-generic.jpg') }})"
                } else {

                    img.style.backgroundImage = 'url(https://wiki.oneorzero.org/view/Special:FilePath/' + multiplot['image'] + '?width=40)'
                }
                
                td.appendChild(img)
                tr.appendChild(td)

                Array.from(['model', yControls.value]).forEach(key => {

                    td = document.createElement('TD')
                    td.textContent = multiplot[key]
                    tr.appendChild(td)
                })

                td = document.createElement('TD')
                let link = document.createElement('A')
                link.classList.add('btn')
                link.classList.add('btn-primary')
                link.classList.add('round-hard')
                link.href = 'https://wiki.oneorzero.org/view/' + multiplot['slug']
                link.textContent = 'Learn more'
                td.appendChild(link)
                tr.appendChild(td)

                table.appendChild(tr)
            })

            rightCol.appendChild(table)
            content.appendChild(rightCol)
            wrapper.appendChild(content)
            modalContent.appendChild(wrapper)
            modal.classList.add('modal-show')
        } else {

            modal.classList.remove('modal-show')
        }
    }
</script>
{% endblock %}